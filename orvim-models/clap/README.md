# **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ Audio Caption(CLAP)** üöÄ

---

## **–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ** üìã

–î–∞–Ω–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –≤–∫–ª—é—á–∞–µ—Ç –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

1. **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è CPU** üñ•Ô∏è: –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–∞ –º–∞—à–∏–Ω–∞—Ö –±–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤.
2. **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è GPU** üéÆ: –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º CUDA.

–û–±–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∑–∞–ø—É—Å–∫–∞—é—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø—Ä–∏–Ω–∏–º–∞—é—â–µ–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON. –°–µ—Ä–≤–∏—Å —É–¥–æ–±–µ–Ω –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ —Å–∏—Å—Ç–µ–º—ã, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è** ‚öôÔ∏è

### **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è CPU** üñ•Ô∏è
- **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: 
  - Ubuntu 18.04/20.04/22.04
  - –ü–æ–¥—Ö–æ–¥–∏—Ç –∏ –¥–ª—è Windows/MacOS —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º Docker.
- **–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä**: –ú–∏–Ω–∏–º—É–º 2 —è–¥—Ä–∞.
- **–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å**: –û—Ç 4 –ì–ë.
- **–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ**:
  - Docker –≤–µ—Ä—Å–∏–∏ 20.10 –∏ –≤—ã—à–µ.
  - Python 3.9 (–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω).

### **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è GPU** üéÆ
- **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: 
  - Ubuntu 20.04/22.04.
- **–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä**: –ú–∏–Ω–∏–º—É–º 2 —è–¥—Ä–∞.
- **GPU**:
  - NVIDIA GPU —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CUDA 12.1.
  - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç 4 –ì–ë –≤–∏–¥–µ–æ–ø–∞–º—è—Ç–∏ (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö).
- **–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å**: –û—Ç 8 –ì–ë.
- **–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ**:
  - Docker –≤–µ—Ä—Å–∏–∏ 20.10 –∏ –≤—ã—à–µ.
  - NVIDIA Container Toolkit (–¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ GPU).
  - Python 3.9 (–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω).

---

## **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–±–æ—Ä–∫–µ –∏ –∑–∞–ø—É—Å–∫—É** üõ†Ô∏è

### **1. –°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞**
–°–æ–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∞—à–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π:

#### **CPU-–≤–µ—Ä—Å–∏—è** üñ•Ô∏è
–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å —Ñ–∞–π–ª–æ–º `Dockerfile.cpu` –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```bash
docker build -f Dockerfile.cpu -t app-cpu .
```

#### **GPU-–≤–µ—Ä—Å–∏—è** üéÆ
–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å —Ñ–∞–π–ª–æ–º `Dockerfile.gpu` –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```bash
docker build -f Dockerfile.gpu -t app-gpu .
```

### **2. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**
#### **CPU-–≤–µ—Ä—Å–∏—è** üñ•Ô∏è
```bash
docker run -d -p 80:80 --name app-cpu-container app-cpu
```

#### **GPU-–≤–µ—Ä—Å–∏—è** üéÆ
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ NVIDIA Container Toolkit —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
docker run --gpus all -d -p 80:80 --name app-gpu-container app-gpu
```

---

## **API –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞** üåê

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É `80` –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å—ã.

### **1. –ó–∞–ø—Ä–æ—Å** üíå
- **–ú–µ—Ç–æ–¥**: `POST`
- **URL**: `http://<–∞–¥—Ä–µ—Å_—Å–µ—Ä–≤–µ—Ä–∞>:80/process`
- **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö**: JSON
- **–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞**:
```json
{
  "input_data": "–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏"
}
```

### **2. –û—Ç–≤–µ—Ç** üì¨
- **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö**: JSON
- **–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞**:
```json
{
  "status": "success",
  "processed_data": "–†–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏"
}
```

---

## **–û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤** üõ≥Ô∏è

### **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è CPU** üñ•Ô∏è
–§–∞–π–ª **`Dockerfile.cpu`**:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—Ä–∞–∑ `python:3.9-slim`.
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –≤–∫–ª—é—á–∞—è `torch` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ–π—Ä–æ–Ω–Ω—ã–º–∏ —Å–µ—Ç—è–º–∏ –Ω–∞ CPU.
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `app.py`.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å `Whisper-small`, –∑–∞—Ñ–∞–π–Ω—Ç—é–Ω–µ–Ω–Ω–µ–Ω–∞—è –ø–æ–¥ –∑–∞–¥–∞—á—É audio caption

### **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è GPU** üéÆ
–§–∞–π–ª **`Dockerfile.gpu`**:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ `nvidia/cuda:12.1.0-devel-ubuntu22.04` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CUDA.
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `nexaai` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å GPU.
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `app.py`.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å `Qwen Audio 2 7.8B`, –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–Ω–∞—è –¥–æ 2 –±–∏—Ç

---

## **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** üîß

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ POST-–∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ `curl`:
```bash
curl -X POST http://<–∞–¥—Ä–µ—Å_—Å–µ—Ä–≤–µ—Ä–∞>:80/process \
-H "Content-Type: application/json" \
-d '{"input_data": "example"}'
```

2. –û–∂–∏–¥–∞–π—Ç–µ JSON-–æ—Ç–≤–µ—Ç:
```json
{
  "status": "success",
  "processed_data": "example_processed"
}
```

---

## **–ó–∞–º–µ—Ç–∫–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** üìù

- üñ•Ô∏è **CPU-–≤–µ—Ä—Å–∏—è** –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á –∏–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
- üéÆ **GPU-–≤–µ—Ä—Å–∏—è** —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö.
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GPU-–≤–µ—Ä—Å–∏–∏.
- –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤—Ä–æ–¥–µ Postman –∏–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `requests` –Ω–∞ Python.

--- 
